


Real version
-------------
change tools.js
var sparkService = "https://bitpieces.com:4567/"

favicon : 
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="https://bitpieces.com/favicon.ico" type="image/x-icon" />


htaccess
-------
#Options +FollowSymLinks +Indexes
# php_flag engine off

#DirectoryIndex derp.php

RewriteBase /
RewriteEngine On


AddType text/javascript .js

# html directs
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)$ $1.html [L,QSA]


# make landing look like the root
#RewriteRule ^$ /landing.html [L]
RewriteRule ^$ /asdf.html [L]


ErrorDocument 404 /404.html

# The creators rewrites
RewriteRule ^creators/main/([^/.]+)/?$ /creator_main.html?creator=$1 [L]
RewriteRule ^creators/main/(.*) $1  [L]

RewriteRule ^creators/overview/([^/.]+)/?$ /creator_overview.html?creator=$1 [L]
RewriteRule ^creators/overview/(.*) $1  [L]

RewriteRule ^creators/funds/([^/.]+)/?$ /creator_funds.html?creator=$1 [L]
RewriteRule ^creators/funds/(.*) $1  [L]

RewriteRule ^creators/pieces/([^/.]+)/?$ /creator_pieces.html?creator=$1 [L]
RewriteRule ^creators/pieces/(.*) $1  [L]

RewriteRule ^creators/pricing/([^/.]+)/?$ /creator_pricing.html?creator=$1 [L]
RewriteRule ^creators/pricing/(.*) $1  [L]

RewriteRule ^creators/rewards/([^/.]+)/?$ /creator_rewards.html?creator=$1 [L]
RewriteRule ^creators/rewards/(.*) $1  [L]

RewriteRule ^creators/settings/([^/.]+)/?$ /creator_settings.html?creator=$1 [L]
RewriteRule ^creators/settings/(.*) $1  [L]

RewriteRule ^creators/worth/([^/.]+)/?$ /creator_worth.html?creator=$1 [L]
RewriteRule ^creators/worth/(.*) $1  [L]

# The users rewrites
RewriteRule ^users/funds/([^/.]+)/?$ /userdashboard_funds.html?user=$1 [L]
RewriteRule ^users/funds/(.*) $1  [L]

RewriteRule ^users/overview/([^/.]+)/?$ /userdashboard_overview.html?user=$1 [L]
RewriteRule ^users/overview/(.*) $1  [L]

RewriteRule ^users/pieces/([^/.]+)/?$ /userdashboard_pieces.html?user=$1 [L]
RewriteRule ^users/pieces/(.*) $1  [L]

RewriteRule ^users/prices/([^/.]+)/?$ /userdashboard_prices.html?user=$1 [L]
RewriteRule ^users/prices/(.*) $1  [L]

RewriteRule ^users/settings/([^/.]+)/?$ /userdashboard_settings.html?user=$1 [L]
RewriteRule ^users/settings/(.*) $1  [L]


Javascript
----------
creatorpage, userpages: 
    if (sessionId != null && userType == 'User') {
        showHideButtons(creatorName);
        bidAskOrBuySetup("/placeask", creatorName, '#askForm', "#placeaskBtn", "#askModal");
        bidAskOrBuySetup("/placebid", creatorName, '#bidForm', "#placebidBtn", "#bidModal");
        bidAskOrBuySetup("/placebuy", creatorName, '#buyForm', "#placebuyBtn", "#buyModal");


        fillFieldFromMustache('deposit_button', '#deposit_template', '#deposit_div', false);
    }

    ...

standardFormPost('user_withdraw', '#withdrawForm', '#withdrawModal', true);

Creator pages
-------------
<div id="depositModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog">

    <div class="modal-content">
            <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>        <h4 class="modal-title">Deposit</h4>
      </div>
      <div id="deposit_div" class="modal-body">
       <script id="deposit_template" type="x-tmpl-mustache">
        <iframe src="https://coinbase.com/inline_payments/{{.}}" style="width: 500px; height: 160px; border: none; box-shadow: 0 1px 3px rgba(0,0,0,0.25); overflow: hidden;" scrolling="no" allowtransparency="true" frameborder="0"></iframe>
      </script>
    </div>

  </div>
</div>
</div>

<div id="withdrawModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog">

    <div class="modal-content">
            <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>        <h4 class="modal-title">withdraw</h4>
      </div>
      <div class="modal-body">
      Make sure your creator safety after withdrawal doesn't go below 5, or you will be labeled as <b> unsafe </b>.
      <br>
        <form id="withdrawForm" class="form-horizontal" role="form">
          <div class="form-group form-group-lg">
            <label class="col-sm-2 control-label" for="formGroupInputLarge">Amount</label>
            <div class="col-sm-10">
             <div class="input-group">
              <div id="withdrawSymbol" class="input-group-addon">?</div>
              <input name="withdrawAmount" class="form-control" type="text" id="formGroupInputLarge" placeholder="Current funds"

              >
            </div>
          </div>


        </div>

        <div class="form-group form-group-lg">
         <label class="col-sm-2 control-label" for="formGroupInputLarge">Bitcoin Address</label>


         <div class="col-sm-10">
           <input name="address" type="text" class="form-control" placeholder="Bitcoin Address or Coinbase Email"
           >
         </div>
       </div>


       <div class="form-group form-group-lg">

         <label class="col-sm-2 control-label" for="formGroupInputLarge">Total after 5% fee</label>
         <div id="withdrawAmountAfterFee" class="col-sm-10 form-control-static">
         </div>
       </div>

       <div class="form-group form-group-lg">

         <label class="col-sm-2 control-label" for="formGroupInputLarge">Your Funds</label>
         <div id="funds" class="col-sm-10 form-control-static">
         </div>
       </div>

       <div class="form-group form-group-lg">

         <label class="col-sm-2 control-label" for="formGroupInputLarge">Potential Funds After</label>
         <div id="fundsLeft" class="col-sm-10 form-control-static">

         </div>
       </div>

       <div class="form-group form-group-lg">

         <label class="col-sm-2 control-label" for="formGroupInputLarge">Safety Rating After</label>
         <div id="safetyRatingAfter" class="col-sm-10 form-control-static">

         </div>
       </div>

       <button id="placeWithdrawBtn" type="submit" class="btn btn-primary">Withdraw</button>

     </form>
   </div>

 </div>
</div>
</div>


The user withdrawal, remove the line that says its fake

Fake version
-----------

.htaccess
---------


#Options +FollowSymLinks +Indexes
# php_flag engine off

#DirectoryIndex derp.php

RewriteBase /
RewriteEngine On




# html directs
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)$ $1.html [L,QSA]


# make landing look like the root
RewriteRule ^$ /testing_home.html [L]


# The creators rewrites
RewriteRule ^creators/main/([^/.]+)/?$ /creator_main.html?creator=$1 [L]
RewriteRule ^creators/main/(.*) $1  [L]

RewriteRule ^creators/overview/([^/.]+)/?$ /creator_overview.html?creator=$1 [L]
RewriteRule ^creators/overview/(.*) $1  [L]

RewriteRule ^creators/funds/([^/.]+)/?$ /creator_funds.html?creator=$1 [L]
RewriteRule ^creators/funds/(.*) $1  [L]

RewriteRule ^creators/pieces/([^/.]+)/?$ /creator_pieces.html?creator=$1 [L]
RewriteRule ^creators/pieces/(.*) $1  [L]

RewriteRule ^creators/pricing/([^/.]+)/?$ /creator_pricing.html?creator=$1 [L]
RewriteRule ^creators/pricing/(.*) $1  [L]

RewriteRule ^creators/rewards/([^/.]+)/?$ /creator_rewards.html?creator=$1 [L]
RewriteRule ^creators/rewards/(.*) $1  [L]

RewriteRule ^creators/settings/([^/.]+)/?$ /creator_settings.html?creator=$1 [L]
RewriteRule ^creators/settings/(.*) $1  [L]

RewriteRule ^creators/worth/([^/.]+)/?$ /creator_worth.html?creator=$1 [L]
RewriteRule ^creators/worth/(.*) $1  [L]

# The users rewrites
RewriteRule ^users/funds/([^/.]+)/?$ /userdashboard_funds.html?user=$1 [L]
RewriteRule ^users/funds/(.*) $1  [L]

RewriteRule ^users/overview/([^/.]+)/?$ /userdashboard_overview.html?user=$1 [L]
RewriteRule ^users/overview/(.*) $1  [L]

RewriteRule ^users/pieces/([^/.]+)/?$ /userdashboard_pieces.html?user=$1 [L]
RewriteRule ^users/pieces/(.*) $1  [L]

RewriteRule ^users/prices/([^/.]+)/?$ /userdashboard_prices.html?user=$1 [L]
RewriteRule ^users/prices/(.*) $1  [L]

RewriteRule ^users/settings/([^/.]+)/?$ /userdashboard_settings.html?user=$1 [L]
RewriteRule ^users/settings/(.*) $1  [L]

Javascript
-----------

  if (sessionId != null && userType == 'User') {
        setupCurrFields();
        showHideButtons(creatorName);
        bidAskOrBuySetup("/placeask", creatorName, '#askForm', "#placeaskBtn", "#askModal");
        bidAskOrBuySetup("/placebid", creatorName, '#bidForm', "#placebidBtn", "#bidModal");
        bidAskOrBuySetup("/placebuy", creatorName, '#buyForm', "#placebuyBtn", "#buyModal");

        setupDepositButton("make_deposit_fake", '#placedepositBtn', '#depositForm', '#depositModal');

    }

HTML
-----

<div id="depositModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog">

    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>        <h4 class="modal-title">Deposit</h4>
      </div>
      <div id="deposit_div" class="modal-body">
        <form id="depositForm" class="form-horizontal" role="form">
          This is a fake deposit form: type in any amount you like.
          <div class="form-group form-group-lg">
            <label class="col-sm-2 control-label" for="formGroupInputLarge">Amount</label>
            <div class="col-sm-10">
              <div class="input-group">
                <div id="depositSymbol" class="input-group-addon">?</div>

                <input name="depositAmount" class="form-control" type="text" id="formGroupInputLarge" placeholder="Current funds"
                data-bv-greaterthan="true"
                data-bv-greaterthan-value=".01"
                data-bv-greaterthan-message="Must be > .01"
                >
              </div>
            </div>


          </div>


          <button id="placedepositBtn" type="submit" class="btn btn-primary">Deposit</button>

        </form>
      </div>

    </div>
  </div>
</div>

<div id="withdrawModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog">

    <div class="modal-content">
            <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>        <h4 class="modal-title">Withdraw</h4>
      </div>
      <div class="modal-body">
        <form id="withdrawForm" class="form-horizontal" role="form">
          This is a fake withdrawal form: type in any amount you like.
          <div class="form-group form-group-lg">
            <label class="col-sm-2 control-label" for="formGroupInputLarge">Amount</label>
            <div class="col-sm-10">
              <div class="input-group">
                <div id="withdrawSymbol" class="input-group-addon">?</div>

                <input name="withdrawAmount" class="form-control" type="text" id="formGroupInputLarge" placeholder="Current funds"
                data-bv-greaterthan="true"
                data-bv-greaterthan-value=".01"
                data-bv-greaterthan-message="Must be > .01"
                >
              </div>
            </div>


          </div>

          <div class="form-group form-group-lg">
           <label class="col-sm-2 control-label" for="formGroupInputLarge">To</label>


           <div class="col-sm-10">
             <input name="address" type="text" class="form-control" disabled placeholder="Bitcoin Address or Coinbase Email"
             >
           </div>
         </div>


         <div class="form-group form-group-lg">

           <label class="col-sm-2 control-label" for="formGroupInputLarge">Your Funds</label>
           <div id="funds" class="col-sm-10 form-control-static">
           </div>
         </div>

         <div class="form-group form-group-lg">

           <label class="col-sm-2 control-label" for="formGroupInputLarge">Potential Funds After</label>
           <div id="fundsLeft" class="col-sm-10 form-control-static">

           </div>
         </div>
         <button id="placeWithdrawBtn" type="submit" class="btn btn-primary">Withdraw</button>

       </form>
     </div>

   </div>
 </div>
</div>



